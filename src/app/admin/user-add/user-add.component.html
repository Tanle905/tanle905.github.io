<div class="p-10 flex justify-center h-full">
  <form
    (ngSubmit)="addUser(form)"
    #form="ngForm"
    class="text-sm flex flex-col justify-evenly p-10 bg-blue-200 rounded-lg"
  >
    <h1 class="text-3xl text-gray-800 font-bold mx-auto">
      {{ isEditingUser ? "Edit user" : "Add user" }}
    </h1>
    <div class="space-y-5">
      <div class="grid grid-cols-12 font-semibold">
        <label for="" class="col-start-4 col-span-1 mr-3 my-auto"
          >Name:</label
        >
        <input
          type="text"
          class="col-span-5 py-2 rounded-md"
          [(ngModel)]="userData.name"
          name="lastname"
          #lastname="ngModel"
          required
          form
        />
        <div
          class="col-start-8 col-span-2 text-red-500"
          *ngIf="lastname.invalid && (lastname.dirty || lastname.touched)"
        >
          Last name is required.
        </div>
      </div>
      <div class="grid grid-cols-12 font-semibold">
        <label for="" class="col-start-4 col-span-1 mr-3 my-auto">Email:</label>
        <input
          type="text"
          class="col-span-5 py-2 rounded-md"
          [(ngModel)]="userData.email"
          name="email"
          #email="ngModel"
          required
          email
        />
        <div
          class="col-start-5 col-span-2 text-red-500"
          *ngIf="userData.email === '' && (email.dirty || email.touched)"
        >
          Email is required.
        </div>
        <div
          class="col-start-5 col-span-2 text-red-500"
          *ngIf="email.errors?.['email']"
        >
          Please input a valid email.
        </div>
      </div>

      <div class="grid grid-cols-12 font-semibold">
        <label for="" class="col-start-4 col-span-1 mr-3 my-auto"
          >Date of birth:</label
        >
        <input
          type="date"
          class="col-span-5 rounded-md"
          [(ngModel)]="userData.dob"
          name="DOB"
          [max]="dateValidator"
          #DOB="ngModel"
        />
        <div
          class="col-start-5 col-span-3 text-red-500"
          *ngIf="DOB.errors?.['max']"
        >
          Please enter a valid date.
        </div>
      </div>
    </div>
    <div class="grid grid-cols-12">
      <button
        [disabled]="form.invalid"
        (click)="isEditingUser ? editUser(form) : addUser(form)"
        class="col-start-4 disabled:bg-gray-500 col-span-1 px-4 py-2 rounded-md bg-blue-600 hover:bg-blue-500 transition text-white"
      >
        {{ isEditingUser ? "Update" : "Submit" }}
      </button>
      <button
        type="reset"
        class="ml-5 mr-16 col-start-5 col-span-2 px-4 py-2 rounded-md bg-blue-600 hover:bg-blue-500 transition text-white"
      >
        Clear
      </button>
    </div>
  </form>
</div>
